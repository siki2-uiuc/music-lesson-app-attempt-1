<p id="notice"><%= notice %></p>

<h1>All Teachers</h1>

<%= search_form_for @q do |f| %>
  <p>Narrow results:</p>

  <%# <div> %>
    <%# <%= f.label :instruments_name_cont, "Search by instrument" %> 
    <%# <%= f.text_field :instruments_name_cont, :placeholder => "Enter a few characters" %> 
  <%# </div> %>

  <div>
  <%= f.label :instruments_name_eq, "Search by instrument" %>
  <%= f.select :instruments_name_eq, options_from_collection_for_select(Instrument.all, :name, :name, @q.instruments_name_eq), { :include_blank => true } %>
</div>

  <div>
    <%= f.label :location_location_name_cont, "Search by location" %>
    <%= f.text_field :location_location_name_cont, :placeholder => "i.e Chicago" %>
  </div>

  <%# <div> %>
    <%# <%= f.label :genres_name_cont, "Search by genre" %> 
    <%# <%= f.text_field :genres_name_cont, :placeholder => "Classical" %> 
  <%# </div> %>

  <div>
  <%= f.label :genres_name_eq, "Search by genre" %>
  <%= f.select :genres_name_eq, options_from_collection_for_select(Genre.all, :name, :name, @q.genres_name_eq), { :include_blank => true } %>
</div>

  <%= f.submit :class => "btn btn-primary btn-block" %>
  
  <a href="/">Clear filters</a>
<% end %>


<table>
  <thead>
    <tr>
      <th></th>
      <th>Name</th>
      <th>Instrument(s)</th>
      <th>Location</th>
      <th>Lesson Price</th>
      <th>Teacher Details</th>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><img src="<%= user.avatar_url %>" alt=""></td>
        <td><%= user.username.capitalize %></td>
        <td>
          <% user.instruments.each do |instrument| %>
            <%= instrument.name %>
            <% end  %>
          </td>
        <td><%= user.location.location_name %></td>
        <td><%= user.lesson_pricing.to_s(:currency) %>/ 30-min lesson</td>
        <td><%= link_to 'Show', user_path(user.username) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<br>

<%# <%= link_to 'New Musician Genre', new_musician_genre_path %> 
