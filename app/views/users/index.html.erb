<p id="notice"><%= notice %></p>

<h1>All Teachers</h1>

<form class="border rounded border-dark border-bottom-0 p-4 my-4">
  <%= search_form_for @q do |f| %>
    <p class="font-weight-bold">Narrow results:</p>
  
    <%# <div> %>
      <%# <%= f.label :instruments_name_cont, "Search by instrument" %>
      <%# <%= f.text_field :instruments_name_cont, :placeholder => "Enter a few characters" %>
    <%# </div> %>
  
    <div class="mb-2">
      <%= f.label :instruments_name_eq, "Search by instrument", class: "form-label" %>
      <%= f.select :instruments_name_eq, options_from_collection_for_select(Instrument.all, :name, :name, @q.instruments_name_eq), { :include_blank => true }, class: "form-control form-select" %>
    </div>
  
  
    <%# <div> %>
      <%# <%= f.label :genres_name_cont, "Search by genre" %>
      <%# <%= f.text_field :genres_name_cont, :placeholder => "Classical" %>
    <%# </div> %>
  
    <div class="mb-2">
      <%= f.label :genres_name_eq, "Search by genre", class: "form-label" %>
      <%= f.select :genres_name_eq, options_from_collection_for_select(Genre.all, :name, :name, @q.genres_name_eq), { :include_blank => true }, class: "form-control form-select" %>
    </div>
  
    <div class="mb-2">
      <%= f.label :location_location_name_cont, "Search by location", class: "form-label" %>
      <%= f.text_field :location_location_name_cont, :placeholder => "i.e Chicago", class: "form-control" %>
    </div>
  
    <%= f.submit class: "btn btn-primary mt-2 mr-3" %>
  
    <%= link_to 'Clear filters', root_path%>
  <% end %>
</form>


<%# <table> %>
  <%# <thead>
    <tr>
      <th></th>
      <th>Name</th>
      <th>Instrument(s)</th>
      <th>Location</th>
      <th>Lesson Price / 30-min</th>
      <th>Teacher Details</th>
      <th colspan="3"></th>
    </tr>
  </thead> %>

  <%# <tbody> %>
  <div class="mb-4">
    
      <% @users.each do |user| %>
    
        <div class="card mb-3" >
          <div class="row g-0">
            <div class="col-md-4" >        
              <%= image_tag "#{user.avatar_url}", class: "img-fluid rounded-start" %>
            </div>
            <div class="col-md-8">
                <div class="card-header d-flex justify-content-around">
                  <h4 class="card-title fs-2"><%= user.username.capitalize %></h4>
                  <p class="card-text"><span class="text-info fs-5">Location: </span><%= user.location.location_name %></p>
                </div>
              <div class="card-body">
                <% user.instruments.each do |instrument| %>
                    <span class="h5"><%= instrument.name %></span>
                <% end  %>
                <span class="pt-4 h5">Teacher </span>
                <div class="mt-3">
                  <p><span class="text-info h5">About me: </span><%= user.teacher_bio %></p>
                </div>
                <p class="card-text"><span class="text-info h5">Lesson Price / 30-min: </span><%= user.lesson_pricing.to_s(:currency) %></p>
                <p class="card-text">
    
                    <%= link_to 'Read more', user_path(user.username), class: "btn btn-primary" %>
    
                </p>
              </div>
            </div>
          </div>
        </div>
      <% end %>
  </div>
  <%# </tbody> %>
<%# </table> %>
